# InstaBids Complete Codebase Map

**Generated by**: Agent 6 - Quality Gatekeeper  
**Date**: August 1, 2025  
**Purpose**: Complete understanding of codebase structure for quality assurance

---

## 🏗️ **CODEBASE ARCHITECTURE OVERVIEW**

### **Core System Components:**

```
instabids/
├── 🤖 ai-agents/          # Backend FastAPI server + AI agents
├── 🌐 web/                # Frontend React/TypeScript app
├── 📋 agent_specifications/ # Multi-agent system documentation
├── ✅ Quality System      # Code quality tools (my domain)
└── 📦 Root Config         # Package.json, licenses, etc.
```

### **Non-Core/Questionable:**
```
├── 📁 additional_projects/  # Future expansion ideas (not core)
├── 📁 frontend/            # Legacy? Only 2 files
├── 📱 mobile/              # React Native app (status unknown)
├── 🧪 test-archive/        # Archived tests from cleanup
├── 🎭 demos/               # HTML demo files
└── 🌐 test-sites/          # Test contractor websites
```

---

## 🤖 **AI-AGENTS DIRECTORY (Backend)**

### **Structure Overview:**
- **250+ files in root** (needs major cleanup!)
- **Well-organized agent subdirectories**
- **FastAPI backend server**
- **Supabase database integration**

### **Agent Directory Breakdown:**

```
ai-agents/agents/
├── 📊 cda/   - Contractor Discovery Agent
├── 🤝 cho/   - Contractor Homeowner Orchestrator  
├── 🧠 cia/   - Contractor Intelligence Agent
├── 📝 coia/  - Contractor Onboarding Intelligence Agent
├── 🤖 cra/   - Contractor Relations Agent
├── 📧 eaa/   - Email Automation Agent
├── 🎨 iris/  - Image generation (DALL-E integration)
├── 🔍 jaa/   - Job Analysis Agent
├── 🌐 wfa/   - Web Form Automation
├── 📈 tracking/ - Bid tracking system
└── 🔄 orchestration/ - Agent coordination
```

### **Supporting Directories:**
```
├── api/        - API endpoint definitions
├── routes/     - FastAPI route handlers
├── models/     - Pydantic data models
├── database/   - Database utilities
├── memory/     - Agent memory/conversation tracking
├── utils/      - Shared utilities
├── templates/  - Email/HTML templates
└── migrations/ - Database migrations
```

### **Major Issues Found:**
1. **150+ test files** in root directory
2. **Dozens of debug/check scripts** cluttering root
3. **One-off fix scripts** that should be archived
4. **Documentation mixed** with code files

---

## 🌐 **WEB DIRECTORY (Frontend)**

### **Structure Overview:**
- **Standard React/TypeScript setup**
- **Next.js + Vite configuration**
- **Tailwind CSS for styling**
- **Well-organized component structure**

### **Directory Breakdown:**

```
web/src/
├── components/     # React components
│   ├── auth/      # Authentication components
│   ├── bid/       # Bid-related components
│   ├── chat/      # Chat interface
│   ├── dashboard/ # Dashboard views
│   ├── forms/     # Form components
│   └── ui/        # Shared UI components
├── pages/         # Page components
├── services/      # API service layers
├── hooks/         # Custom React hooks
├── contexts/      # React contexts
├── types/         # TypeScript type definitions
└── utils/         # Utility functions
```

### **Key Files:**
- `App.tsx` - Main app component
- `main.tsx` - Entry point
- `vite.config.ts` - Build configuration
- `biome.json` - Code quality config

---

## 📋 **AGENT SPECIFICATIONS**

### **Multi-Agent System:**
```
agent_specifications/
├── CLAUDE.md                          # Router/coordination
├── CLAUDE_AGENT_1_JOB_ANALYSIS.md    # JAA specs
├── CLAUDE_AGENT_2_CONTRACTOR_INTEL.md # CIA specs
├── CLAUDE_AGENT_3_IMAGE_GENERATION.md # IRIS specs
├── CLAUDE_AGENT_4_MESSAGING.md        # Messaging specs
├── CLAUDE_AGENT_5_PROJECT_MGR.md      # PM specs
├── CLAUDE_AGENT_6_CODEBASE_QA.md     # My specs!
└── agent_6_qa_docs/                   # My documentation
```

---

## 🚨 **IMMEDIATE CLEANUP PRIORITIES**

### **1. AI-Agents Root Cleanup:**
- Move 150+ test files to `ai-agents/tests/`
- Move utility scripts to `ai-agents/scripts/`
- Move documentation to `ai-agents/docs/`
- Archive one-off fix scripts

### **2. Root Directory Organization:**
- Move Python test files to proper test directory
- Organize documentation files
- Remove `nul` and other artifacts

### **3. Questionable Directories:**
- **additional_projects/** - Confirm not core, then archive
- **frontend/** - Legacy code, likely delete
- **mobile/** - Determine if active or archive
- **demos/** - Move to test-archive or delete
- **test-sites/** - Determine if needed

### **4. Quality System Integration:**
- Ensure all agents know about quality checks
- Document quality workflow in each agent spec
- Set up automated checks before commits

---

## 📊 **CODEBASE STATISTICS**

### **File Counts:**
- **Python files**: ~400+ (mostly in ai-agents)
- **TypeScript files**: ~150+ (in web)
- **Test files**: ~200+ (needs organization)
- **Documentation**: ~50+ MD files

### **Code Quality Status:**
- **TypeScript**: 345 issues remaining (down from 507)
- **Python**: 123 issues remaining (down from 30,834!)
- **Pre-commit hooks**: ✅ Configured
- **Quality monitoring**: ✅ Active

---

## 🎯 **NEXT ACTIONS**

1. **Get user confirmation** on questionable directories
2. **Execute ai-agents cleanup** (highest priority)
3. **Archive/delete legacy code**
4. **Create detailed agent interaction map**
5. **Set up continuous quality monitoring**

---

*This document will be continuously updated as the codebase evolves.*