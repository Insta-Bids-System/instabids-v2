# InstaBids Complete Codebase Map

**Generated by**: Agent 6 - Quality Gatekeeper  
**Date**: August 1, 2025  
**Purpose**: Complete understanding of codebase structure for quality assurance

---

## ğŸ—ï¸ **CODEBASE ARCHITECTURE OVERVIEW**

### **Core System Components:**

```
instabids/
â”œâ”€â”€ ğŸ¤– ai-agents/          # Backend FastAPI server + AI agents
â”œâ”€â”€ ğŸŒ web/                # Frontend React/TypeScript app
â”œâ”€â”€ ğŸ“‹ agent_specifications/ # Multi-agent system documentation
â”œâ”€â”€ âœ… Quality System      # Code quality tools (my domain)
â””â”€â”€ ğŸ“¦ Root Config         # Package.json, licenses, etc.
```

### **Non-Core/Questionable:**
```
â”œâ”€â”€ ğŸ“ additional_projects/  # Future expansion ideas (not core)
â”œâ”€â”€ ğŸ“ frontend/            # Legacy? Only 2 files
â”œâ”€â”€ ğŸ“± mobile/              # React Native app (status unknown)
â”œâ”€â”€ ğŸ§ª test-archive/        # Archived tests from cleanup
â”œâ”€â”€ ğŸ­ demos/               # HTML demo files
â””â”€â”€ ğŸŒ test-sites/          # Test contractor websites
```

---

## ğŸ¤– **AI-AGENTS DIRECTORY (Backend)**

### **Structure Overview:**
- **250+ files in root** (needs major cleanup!)
- **Well-organized agent subdirectories**
- **FastAPI backend server**
- **Supabase database integration**

### **Agent Directory Breakdown:**

```
ai-agents/agents/
â”œâ”€â”€ ğŸ“Š cda/   - Contractor Discovery Agent
â”œâ”€â”€ ğŸ¤ cho/   - Contractor Homeowner Orchestrator  
â”œâ”€â”€ ğŸ§  cia/   - Contractor Intelligence Agent
â”œâ”€â”€ ğŸ“ coia/  - Contractor Onboarding Intelligence Agent
â”œâ”€â”€ ğŸ¤– cra/   - Contractor Relations Agent
â”œâ”€â”€ ğŸ“§ eaa/   - Email Automation Agent
â”œâ”€â”€ ğŸ¨ iris/  - Image generation (DALL-E integration)
â”œâ”€â”€ ğŸ” jaa/   - Job Analysis Agent
â”œâ”€â”€ ğŸŒ wfa/   - Web Form Automation
â”œâ”€â”€ ğŸ“ˆ tracking/ - Bid tracking system
â””â”€â”€ ğŸ”„ orchestration/ - Agent coordination
```

### **Supporting Directories:**
```
â”œâ”€â”€ api/        - API endpoint definitions
â”œâ”€â”€ routes/     - FastAPI route handlers
â”œâ”€â”€ models/     - Pydantic data models
â”œâ”€â”€ database/   - Database utilities
â”œâ”€â”€ memory/     - Agent memory/conversation tracking
â”œâ”€â”€ utils/      - Shared utilities
â”œâ”€â”€ templates/  - Email/HTML templates
â””â”€â”€ migrations/ - Database migrations
```

### **Major Issues Found:**
1. **150+ test files** in root directory
2. **Dozens of debug/check scripts** cluttering root
3. **One-off fix scripts** that should be archived
4. **Documentation mixed** with code files

---

## ğŸŒ **WEB DIRECTORY (Frontend)**

### **Structure Overview:**
- **Standard React/TypeScript setup**
- **Next.js + Vite configuration**
- **Tailwind CSS for styling**
- **Well-organized component structure**

### **Directory Breakdown:**

```
web/src/
â”œâ”€â”€ components/     # React components
â”‚   â”œâ”€â”€ auth/      # Authentication components
â”‚   â”œâ”€â”€ bid/       # Bid-related components
â”‚   â”œâ”€â”€ chat/      # Chat interface
â”‚   â”œâ”€â”€ dashboard/ # Dashboard views
â”‚   â”œâ”€â”€ forms/     # Form components
â”‚   â””â”€â”€ ui/        # Shared UI components
â”œâ”€â”€ pages/         # Page components
â”œâ”€â”€ services/      # API service layers
â”œâ”€â”€ hooks/         # Custom React hooks
â”œâ”€â”€ contexts/      # React contexts
â”œâ”€â”€ types/         # TypeScript type definitions
â””â”€â”€ utils/         # Utility functions
```

### **Key Files:**
- `App.tsx` - Main app component
- `main.tsx` - Entry point
- `vite.config.ts` - Build configuration
- `biome.json` - Code quality config

---

## ğŸ“‹ **AGENT SPECIFICATIONS**

### **Multi-Agent System:**
```
agent_specifications/
â”œâ”€â”€ CLAUDE.md                          # Router/coordination
â”œâ”€â”€ CLAUDE_AGENT_1_JOB_ANALYSIS.md    # JAA specs
â”œâ”€â”€ CLAUDE_AGENT_2_CONTRACTOR_INTEL.md # CIA specs
â”œâ”€â”€ CLAUDE_AGENT_3_IMAGE_GENERATION.md # IRIS specs
â”œâ”€â”€ CLAUDE_AGENT_4_MESSAGING.md        # Messaging specs
â”œâ”€â”€ CLAUDE_AGENT_5_PROJECT_MGR.md      # PM specs
â”œâ”€â”€ CLAUDE_AGENT_6_CODEBASE_QA.md     # My specs!
â””â”€â”€ agent_6_qa_docs/                   # My documentation
```

---

## ğŸš¨ **IMMEDIATE CLEANUP PRIORITIES**

### **1. AI-Agents Root Cleanup:**
- Move 150+ test files to `ai-agents/tests/`
- Move utility scripts to `ai-agents/scripts/`
- Move documentation to `ai-agents/docs/`
- Archive one-off fix scripts

### **2. Root Directory Organization:**
- Move Python test files to proper test directory
- Organize documentation files
- Remove `nul` and other artifacts

### **3. Questionable Directories:**
- **additional_projects/** - Confirm not core, then archive
- **frontend/** - Legacy code, likely delete
- **mobile/** - Determine if active or archive
- **demos/** - Move to test-archive or delete
- **test-sites/** - Determine if needed

### **4. Quality System Integration:**
- Ensure all agents know about quality checks
- Document quality workflow in each agent spec
- Set up automated checks before commits

---

## ğŸ“Š **CODEBASE STATISTICS**

### **File Counts:**
- **Python files**: ~400+ (mostly in ai-agents)
- **TypeScript files**: ~150+ (in web)
- **Test files**: ~200+ (needs organization)
- **Documentation**: ~50+ MD files

### **Code Quality Status:**
- **TypeScript**: 345 issues remaining (down from 507)
- **Python**: 123 issues remaining (down from 30,834!)
- **Pre-commit hooks**: âœ… Configured
- **Quality monitoring**: âœ… Active

---

## ğŸ¯ **NEXT ACTIONS**

1. **Get user confirmation** on questionable directories
2. **Execute ai-agents cleanup** (highest priority)
3. **Archive/delete legacy code**
4. **Create detailed agent interaction map**
5. **Set up continuous quality monitoring**

---

*This document will be continuously updated as the codebase evolves.*